/*! For license information please see components-Dropdown-Dropdown-stories.3d2c865a.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkcustomize_dropdown=self.webpackChunkcustomize_dropdown||[]).push([[215],{"./src/components/Dropdown/Dropdown.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{CustomRenderOption:()=>CustomRenderOption,Main:()=>Main,__namedExportsOrder:()=>__namedExportsOrder,default:()=>Dropdown_stories});var react=__webpack_require__("./node_modules/react/index.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function IconClose(_ref){let{size,color}=_ref;return(0,jsx_runtime.jsxs)("svg",{viewBox:"0 0 1024 1024",fill:null!=color?color:"#000000",height:null!=size?size:16,width:null!=size?size:16,children:[(0,jsx_runtime.jsx)("path",{d:"M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z"}),(0,jsx_runtime.jsx)("path",{d:"M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"})]})}const icons_IconClose=IconClose;IconClose.__docgenInfo={description:"",methods:[],displayName:"IconClose"};const Chip=_ref=>{let{label,onDelete}=_ref;return(0,jsx_runtime.jsxs)("div",{className:"flex items-center bg-slate-100 rounded-xl pl-2 pr-1 py-1",children:[(0,jsx_runtime.jsx)("div",{className:"text-xs",children:label}),onDelete&&(0,jsx_runtime.jsx)("div",{className:"px-1 cursor-pointer",onClick:e=>{e.stopPropagation(),onDelete&&onDelete()},children:(0,jsx_runtime.jsx)(icons_IconClose,{size:12})})]})},components_Chip=Chip;Chip.__docgenInfo={description:"",methods:[],displayName:"Chip",props:{label:{required:!0,tsType:{name:"string"},description:""},onDelete:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const SelectedOptions=_ref=>{var _selectedOptions$;let{selectedOptions=[],onDelete,multiple}=_ref;return(0,jsx_runtime.jsx)("div",{className:"flex flex-1 mr-1 gap-1 flex-wrap",children:selectedOptions.length>0&&(multiple||1!==selectedOptions.length?selectedOptions.map((opt=>(0,jsx_runtime.jsx)(components_Chip,{label:opt.label,onDelete:()=>onDelete(opt.value)},opt.value))):(0,jsx_runtime.jsx)("div",{className:"text-sm",children:null==selectedOptions||null===(_selectedOptions$=selectedOptions[0])||void 0===_selectedOptions$?void 0:_selectedOptions$.label}))})},components_SelectedOptions=SelectedOptions;function IconChevronDown(_ref){let{size,color}=_ref;return(0,jsx_runtime.jsx)("svg",{viewBox:"0 0 580 1000",fill:null!=color?color:"#000000",height:null!=size?size:16,width:null!=size?size:16,children:(0,jsx_runtime.jsx)("path",{d:"M564 428L330 652c-12 12-25.333 18-40 18-14.667 0-28-6-40-18L16 428C5.333 417.333 0 403.667 0 387s5.333-30.333 16-41c25.333-25.333 51.333-25.333 78 0l196 188 196-188c26.667-25.333 52.667-25.333 78 0 10.667 10.667 16 24.333 16 41s-5.333 30.333-16 41"})})}SelectedOptions.__docgenInfo={description:"",methods:[],displayName:"SelectedOptions",props:{selectedOptions:{required:!1,tsType:{name:"Array",elements:[{name:"OptionType"}],raw:"OptionType[]"},description:"",defaultValue:{value:"[]",computed:!1}},onDelete:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},multiple:{required:!0,tsType:{name:"boolean"},description:""}}};const icons_IconChevronDown=IconChevronDown;IconChevronDown.__docgenInfo={description:"",methods:[],displayName:"IconChevronDown"};var react_dom=__webpack_require__("./node_modules/react-dom/index.js");function IconCloseCircle(_ref){let{size,color}=_ref;return(0,jsx_runtime.jsx)("svg",{viewBox:"0 0 1024 1024",fill:null!=color?color:"#000000",height:null!=size?size:16,width:null!=size?size:16,children:(0,jsx_runtime.jsx)("path",{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"})})}const icons_IconCloseCircle=IconCloseCircle;function IconSearch(_ref){let{size,color}=_ref;return(0,jsx_runtime.jsx)("svg",{viewBox:"0 0 1024 1024",fill:null!=color?color:"#000000",height:null!=size?size:16,width:null!=size?size:16,children:(0,jsx_runtime.jsx)("path",{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"})})}IconCloseCircle.__docgenInfo={description:"",methods:[],displayName:"IconCloseCircle"};const icons_IconSearch=IconSearch;IconSearch.__docgenInfo={description:"",methods:[],displayName:"IconSearch"};const SearchInput=_ref=>{let{searchText,onChangeSearchText}=_ref;return(0,jsx_runtime.jsxs)("div",{className:"border-b border-grey-800 p-2 flex items-center",children:[(0,jsx_runtime.jsx)(icons_IconSearch,{size:16,color:"#444"}),(0,jsx_runtime.jsx)("input",{className:"w-full ml-2 outline-none text-sm pr-5",value:searchText,onChange:e=>onChangeSearchText(e.target.value)}),""!==searchText&&(0,jsx_runtime.jsx)("div",{className:"absolute right-2",onClick:()=>onChangeSearchText(""),children:(0,jsx_runtime.jsx)(icons_IconCloseCircle,{size:16,color:"#777"})})]})},components_SearchInput=SearchInput;SearchInput.__docgenInfo={description:"",methods:[],displayName:"SearchInput",props:{searchText:{required:!0,tsType:{name:"string"},description:""},onChangeSearchText:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""}}};const DropdownOptions=(0,react.forwardRef)(((_ref,ref)=>{let{isShow,onCloseDropdown,options,withSearch,optionStyleNone,selectedOptions,multiple,onChangeSelectedOptions,renderOption}=_ref;const[searchText,setSearchText]=(0,react.useState)(""),displayedOptions=(0,react.useMemo)((()=>{let result=[...options];return""!==searchText&&(result=options.filter((option=>option.label.toLowerCase().includes(searchText.toLowerCase())))),result}),[searchText,options]),isSelected=value=>selectedOptions.find((opt=>opt.value===value)),getHighlightedText=(text,highlight)=>{if(!highlight)return text;return text.split(new RegExp("(".concat(highlight,")"),"gi")).map(((part,i)=>part.toLowerCase()===highlight.toLowerCase()?(0,jsx_runtime.jsx)("span",{className:"bg-emerald-500",children:part},i):part))};return isShow?(0,jsx_runtime.jsxs)("div",{ref,id:"dropdown-portal-root",className:"z-1001 absolute border border-grey-800 rounded shadow-md shadow-slate-300 bg-white w-full mt-2",children:[withSearch&&(0,jsx_runtime.jsx)(components_SearchInput,{searchText,onChangeSearchText:setSearchText}),(0,jsx_runtime.jsx)("div",{className:"overflow-auto max-h-72",children:displayedOptions.map((option=>{return(0,jsx_runtime.jsx)("div",{className:optionStyleNone?"":"px-3 py-2 text-sm cursor-pointer hover:bg-emerald-50 ".concat(isSelected(option.value)&&"bg-emerald-50"),onClick:()=>(opt=>{if(multiple){if(!isSelected(opt.value)){const result=[...selectedOptions,opt];onChangeSelectedOptions(result)}}else onChangeSelectedOptions([opt]),onCloseDropdown()})(option),children:(value=option.label,renderOption?renderOption(getHighlightedText(value,searchText)):getHighlightedText(value,searchText))},option.value);var value}))})]}):null})),components_DropdownOptions=DropdownOptions;DropdownOptions.__docgenInfo={description:"",methods:[],displayName:"DropdownOptions"};const Dropdown=_ref=>{let{options,id,withSearch=!0,multiple=!0,outlined=!1,onChange,renderOption,label="label",optionStyleNone=!1,usePortal=!1}=_ref;const[selectedOptions,setSelectedOptions]=(0,react.useState)([]),[showDropdown,setShowDropdown]=(0,react.useState)(!1),dropdownRef=(0,react.useRef)(null),toggleRef=(0,react.useRef)(null),renderDropdownContentWithoutPortal=(0,jsx_runtime.jsx)(components_DropdownOptions,{ref:dropdownRef,isShow:showDropdown,onCloseDropdown:()=>setShowDropdown(!1),options,withSearch,optionStyleNone,selectedOptions,multiple,onChangeSelectedOptions:option=>{setSelectedOptions(option),onChange&&onChange(option)},renderOption});return(0,react.useEffect)((()=>{const handleClickOutside=event=>{dropdownRef.current&&!dropdownRef.current.contains(event.target)&&toggleRef.current&&!toggleRef.current.contains(event.target)&&setShowDropdown(!1)};return document.addEventListener("mousedown",handleClickOutside),()=>{document.removeEventListener("mousedown",handleClickOutside)}}),[showDropdown]),(0,jsx_runtime.jsxs)("div",{className:"grid grid-cols-4 gap-4",id,children:[(0,jsx_runtime.jsx)("div",{children:label}),(0,jsx_runtime.jsxs)("div",{className:"col-span-3 relative",children:[(0,jsx_runtime.jsxs)("div",{ref:toggleRef,onClick:()=>setShowDropdown(!0),className:"border-solid border border-grey-800 rounded px-2 py-1 flex justify-between items-center ".concat(outlined?"bg-slate-300":"bg-white"),children:[(0,jsx_runtime.jsx)(components_SelectedOptions,{selectedOptions,onDelete:value=>{const result=selectedOptions.filter((opt=>opt.value!==value));setSelectedOptions(result),onChange&&onChange(result)},multiple}),(0,jsx_runtime.jsx)(icons_IconChevronDown,{size:16,color:"#444444"})]}),showDropdown&&(usePortal?(0,react_dom.createPortal)(renderDropdownContentWithoutPortal,document.body):renderDropdownContentWithoutPortal)]})]})},Dropdown_Dropdown=Dropdown;Dropdown.__docgenInfo={description:"",methods:[],displayName:"Dropdown",props:{options:{required:!0,tsType:{name:"Array",elements:[{name:"OptionType"}],raw:"OptionType[]"},description:""},id:{required:!1,tsType:{name:"string"},description:""},withSearch:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},outlined:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},multiple:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(selectedOptions: OptionType[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"OptionType"}],raw:"OptionType[]"},name:"selectedOptions"}],return:{name:"void"}}},description:""},renderOption:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: React.ReactNode | JSX.Element) => React.ReactNode | JSX.Element",signature:{arguments:[{type:{name:"union",raw:"React.ReactNode | JSX.Element",elements:[{name:"ReactReactNode",raw:"React.ReactNode"},{name:"JSX.Element"}]},name:"value"}],return:{name:"union",raw:"React.ReactNode | JSX.Element",elements:[{name:"ReactReactNode",raw:"React.ReactNode"},{name:"JSX.Element"}]}}},description:""},label:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"label"',computed:!1}},usePortal:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},optionStyleNone:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};const Dropdown_stories={title:"Components/Dropdown",component:Dropdown_Dropdown},Main={args:{id:"custom-dropdown",usePortal:!1,outlined:!1,multiple:!0,withSearch:!0,options:[{value:"1",label:"Option 1"},{value:"2",label:"Option 2"},{value:"3",label:"Long option 3"},{value:"4",label:"Long long option 4"},{value:"5",label:"Option 1"},{value:"6",label:"Option 2"},{value:"7",label:"Long option 3"},{value:"8",label:"Long long option 4"},{value:"9",label:"Long option 3"},{value:"10",label:"Long long option 10 Long long option 4 Long long option 4 Long long option 4 Long long option 4"}]}},CustomRenderOption={args:{name:"custom-dropdown",renderOption:value=>(0,jsx_runtime.jsx)("div",{className:"text-xs font-semibold",children:value}),usePortal:!1,outlined:!1,multiple:!0,withSearch:!0,options:[{value:"1",label:"Option 1"},{value:"2",label:"Option 2"},{value:"3",label:"Long option 3"},{value:"4",label:"Long long option 4"},{value:"5",label:"Option 1"},{value:"6",label:"Option 2"},{value:"7",label:"Long option 3"},{value:"8",label:"Long long option 4"},{value:"9",label:"Long option 3"},{value:"10",label:"Long long option 4"}]}},__namedExportsOrder=["Main","CustomRenderOption"];Main.parameters={...Main.parameters,docs:{...Main.parameters?.docs,source:{originalSource:"{\n  args: {\n    id: 'custom-dropdown',\n    usePortal: false,\n    outlined: false,\n    multiple: true,\n    withSearch: true,\n    options: [{\n      value: '1',\n      label: 'Option 1'\n    }, {\n      value: '2',\n      label: 'Option 2'\n    }, {\n      value: '3',\n      label: 'Long option 3'\n    }, {\n      value: '4',\n      label: 'Long long option 4'\n    }, {\n      value: '5',\n      label: 'Option 1'\n    }, {\n      value: '6',\n      label: 'Option 2'\n    }, {\n      value: '7',\n      label: 'Long option 3'\n    }, {\n      value: '8',\n      label: 'Long long option 4'\n    }, {\n      value: '9',\n      label: 'Long option 3'\n    }, {\n      value: '10',\n      label: 'Long long option 10 Long long option 4 Long long option 4 Long long option 4 Long long option 4'\n    }]\n  }\n}",...Main.parameters?.docs?.source}}},CustomRenderOption.parameters={...CustomRenderOption.parameters,docs:{...CustomRenderOption.parameters?.docs,source:{originalSource:"{\n  args: {\n    name: 'custom-dropdown',\n    renderOption: (value: React.ReactNode) => <div className=\"text-xs font-semibold\">{value}</div>,\n    usePortal: false,\n    outlined: false,\n    multiple: true,\n    withSearch: true,\n    options: [{\n      value: '1',\n      label: 'Option 1'\n    }, {\n      value: '2',\n      label: 'Option 2'\n    }, {\n      value: '3',\n      label: 'Long option 3'\n    }, {\n      value: '4',\n      label: 'Long long option 4'\n    }, {\n      value: '5',\n      label: 'Option 1'\n    }, {\n      value: '6',\n      label: 'Option 2'\n    }, {\n      value: '7',\n      label: 'Long option 3'\n    }, {\n      value: '8',\n      label: 'Long long option 4'\n    }, {\n      value: '9',\n      label: 'Long option 3'\n    }, {\n      value: '10',\n      label: 'Long long option 4'\n    }]\n  }\n}",...CustomRenderOption.parameters?.docs?.source}}}},"./node_modules/react/cjs/react-jsx-runtime.production.min.js":(__unused_webpack_module,exports,__webpack_require__)=>{var f=__webpack_require__("./node_modules/react/index.js"),k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function q(c,a,g){var b,d={},e=null,h=null;for(b in void 0!==g&&(e=""+g),void 0!==a.key&&(e=""+a.key),void 0!==a.ref&&(h=a.ref),a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.jsx=q,exports.jsxs=q},"./node_modules/react/jsx-runtime.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__("./node_modules/react/cjs/react-jsx-runtime.production.min.js")}}]);